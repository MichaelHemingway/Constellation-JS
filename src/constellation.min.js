var Constellation=function(){"use strict";function i(g){var h;g=g||{};for(h in a)a.hasOwnProperty(h)&&!g.hasOwnProperty(h)&&(g[h]=a[h]);a=g,b=a.canvas.getContext("2d"),e=[a.dotnum],c=window.devicePixelRatio||1,d=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1,f=c/d,a.canvas.width=a.canvas.parentElement.clientWidth,a.canvas.height=a.canvas.parentElement.clientHeight}function j(a){return a=a.replace(/[^\d,]/g,"").split(","),"rgba("+a[0]+","+a[1]+","+a[2]+","}function k(){var c=f;a.canvas.style.width=a.canvas.parentElement.clientWidth*c,a.canvas.style.height=a.canvas.parentElement.clientHeight*c,a.canvas.width=a.canvas.parentElement.clientWidth*c,a.canvas.height=a.canvas.parentElement.clientHeight*c,b.setTransform(c,0,0,c,0,0)}function l(a,b){return Math.random()*(b-a)+a}function m(b,c,d,e){return Math.max(b,d)-Math.min(b,d)<a.lineDistance&&Math.max(c,e)-Math.min(c,e)<a.lineDistance}function n(){this.dotY=l(10,a.canvas.height),this.dotX=l(10,a.canvas.width),this.dotVY=l(-.2,.2),this.dotVX=l(-.2,.2),this.dotR=l(1,2.6),this.drawDot=function(){this.dotX+=this.dotVX,this.dotY+=this.dotVY,(this.dotX+this.dotVX>a.canvas.width||this.dotX+this.dotVX<0)&&(this.dotVX=-this.dotVX),(this.dotY+this.dotVY>a.canvas.height||this.dotY+this.dotVY<0)&&(this.dotVY=-this.dotVY),b.beginPath(),b.arc(this.dotX,this.dotY,this.dotR,0,2*Math.PI,!0),b.closePath(),b.fillStyle=j(a.dotColor)+"1)",b.fill()}}function o(c,d,e,f){this.lineX=c,this.lineY=d,this.lineX2=e,this.lineY2=f;var i=.7,k=j(a.strokeColor);this.drawLine=function(){if(b.beginPath(),b.moveTo(c,d),b.lineTo(e,f),b.lineWidth=.7,a.interactive){var m=(Math.max(c,e)-Math.min(c,e),Math.max(d,f)-Math.min(d,f),a.lineDistance+30);i=Math.max(c,g)-Math.min(c,g)<m&&Math.max(d,h)-Math.min(d,h)<m?1:0,b.strokeStyle=k+i+")"}else b.strokeStyle=k+"1)";b.stroke()}}function p(){function c(){var b;for(k(),b=0;b<a.dotnum;b++)e[b]=new n}function d(c){var f,i,j;for(k(),b.clearRect(0,0,a.canvas.width,a.canvas.height),f=0;f<a.dotnum;f++)for(i=f+1;i<a.dotnum;i++)m(e[f].dotX,e[f].dotY,e[i].dotX,e[i].dotY)&&(j=new o(e[f].dotX,e[f].dotY,e[i].dotX,e[i].dotY),j.drawLine());for(f=0;f<a.dotnum;f++)e[f].drawDot();window.requestAnimationFrame(d),setTimeout(function(){var a=g,b=h;g===a&&h===b&&(g+=Math.floor(l(-.2,.2)),h+=Math.floor(l(-.2,.2)))},100)}document.onmousemove=function(a){g=a.pageX,h=a.pageY},c(),window.requestAnimationFrame(d)}var b,c,d,e,f,g,h,a={canvas:document.getElementById("canvas"),lineDistance:100,dotnum:160,interactive:!0,strokeColor:"rgb(120,120,120)",dotColor:"rgb(220,220,220)"};return{setup:i,start:p}}();