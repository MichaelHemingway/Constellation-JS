var Constellation=function(){"use strict";function f(d){var e;d=d||{};for(e in a)a.hasOwnProperty(e)&&!d.hasOwnProperty(e)&&(d[e]=a[e]);a=d,b=a.canvas.getContext("2d"),c=[a.dotnum]}function g(){a.canvas.style.width="100%",a.canvas.style.height="100%",a.canvas.width=a.canvas.offsetWidth,a.canvas.height=a.canvas.offsetHeight}function h(a,b){return Math.random()*(b-a)+a}function i(b,c,d,e){return Math.max(b,d)-Math.min(b,d)<a.lineDistance&&Math.max(c,e)-Math.min(c,e)<a.lineDistance}function j(){this.dotY=h(10,a.canvas.height),this.dotX=h(10,a.canvas.width),this.dotVY=h(-.2,.2),this.dotVX=h(-.2,.2),this.dotR=h(1,2.6),this.drawDot=function(){this.dotX+=this.dotVX,this.dotY+=this.dotVY,(this.dotX+this.dotVX>a.canvas.width||this.dotX+this.dotVX<0)&&(this.dotVX=-this.dotVX),(this.dotY+this.dotVY>a.canvas.height||this.dotY+this.dotVY<0)&&(this.dotVY=-this.dotVY),b.beginPath(),b.arc(this.dotX,this.dotY,this.dotR,0,2*Math.PI,!0),b.closePath(),b.fillStyle="rgba(220,220,220,1)",b.fill()}}function k(c,f,g,h){this.lineX=c,this.lineY=f,this.lineX2=g,this.lineY2=h;var i=.7;this.drawLine=function(){if(b.beginPath(),b.moveTo(c,f),b.lineTo(g,h),b.lineWidth=.7,a.interactive){var l=(Math.max(c,g)-Math.min(c,g),Math.max(f,h)-Math.min(f,h),a.lineDistance+30);i=Math.max(c,d)-Math.min(c,d)<l&&Math.max(f,e)-Math.min(f,e)<l?1:0,b.strokeStyle="rgba(120, 120, 120,"+i+")"}else b.strokeStyle="rgba(120, 120, 120, 1)";b.stroke()}}function l(){function f(){var b;for(g(),b=0;b<a.dotnum;b++)c[b]=new j}function l(f){var j,m,n;for(g(),b.clearRect(0,0,a.canvas.width,a.canvas.height),j=0;j<a.dotnum;j++)for(m=j+1;m<a.dotnum;m++)i(c[j].dotX,c[j].dotY,c[m].dotX,c[m].dotY)&&(n=new k(c[j].dotX,c[j].dotY,c[m].dotX,c[m].dotY),n.drawLine());for(j=0;j<a.dotnum;j++)c[j].drawDot();window.requestAnimationFrame(l),setTimeout(function(){var a=d,b=e;d===a&&e===b&&(d+=Math.floor(h(-.2,.4)),e+=Math.floor(h(-.2,.4)))},100)}document.onmousemove=function(a){d=a.pageX,e=a.pageY},f(),window.requestAnimationFrame(l)}var b,c,d,e,a={canvas:document.getElementById("canvas"),lineDistance:100,dotnum:160,interactive:!0};return{setup:f,start:l}}();